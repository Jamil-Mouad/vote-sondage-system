{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport { useThemeStore } from \"@/store/theme-store\"\nimport { Sun, Moon } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nexport function ThemeToggle({ className }: { className?: string }) {\n  const { theme, toggleTheme } = useThemeStore()\n\n  return (\n    <button\n      onClick={toggleTheme}\n      className={cn(\n        \"relative flex h-8 w-16 items-center rounded-full p-1 transition-colors duration-300\",\n        theme === \"light\" ? \"bg-slate-200\" : \"bg-slate-700\",\n        className,\n      )}\n      aria-label=\"Toggle theme\"\n    >\n      <Sun\n        className={cn(\n          \"absolute left-1.5 h-4 w-4 transition-all duration-300\",\n          theme === \"light\" ? \"text-amber-500 scale-110\" : \"text-slate-500 scale-100\",\n        )}\n      />\n      <Moon\n        className={cn(\n          \"absolute right-1.5 h-4 w-4 transition-all duration-300\",\n          theme === \"dark\" ? \"text-blue-400 scale-110\" : \"text-slate-400 scale-100\",\n        )}\n      />\n      <span\n        className={cn(\n          \"h-6 w-6 rounded-full bg-white shadow-sm transition-transform duration-300\",\n          theme === \"dark\" ? \"translate-x-8\" : \"translate-x-0\",\n        )}\n      />\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAMO,SAAS,YAAY,EAAE,SAAS,EAA0B;;IAC/D,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,2IAAa;IAE5C,qBACE,4TAAC;QACC,SAAS;QACT,WAAW,IAAA,qHAAE,EACX,uFACA,UAAU,UAAU,iBAAiB,gBACrC;QAEF,cAAW;;0BAEX,4TAAC,8RAAG;gBACF,WAAW,IAAA,qHAAE,EACX,yDACA,UAAU,UAAU,6BAA6B;;;;;;0BAGrD,4TAAC,iSAAI;gBACH,WAAW,IAAA,qHAAE,EACX,0DACA,UAAU,SAAS,4BAA4B;;;;;;0BAGnD,4TAAC;gBACC,WAAW,IAAA,qHAAE,EACX,6EACA,UAAU,SAAS,kBAAkB;;;;;;;;;;;;AAK/C;GAjCgB;;QACiB,2IAAa;;;KAD9B"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/auth/auth-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { ThemeToggle } from \"@/components/ui/theme-toggle\"\nimport { BarChart3, Vote, Users, TrendingUp } from \"lucide-react\"\n\nconst features = [\n  { icon: Vote, text: \"Votez facilement\" },\n  { icon: TrendingUp, text: \"Résultats en temps réel\" },\n  { icon: Users, text: \"Groupes privés\" },\n]\n\nexport function AuthLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"min-h-screen flex\">\n      {/* Left side - Illustration */}\n      <div className=\"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[var(--primary)] to-[var(--primary-700)] p-12 flex-col justify-between relative overflow-hidden\">\n        {/* Decorative elements */}\n        <div className=\"absolute top-20 right-20 w-64 h-64 bg-white/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-20 left-10 w-48 h-48 bg-white/10 rounded-full blur-2xl\" />\n\n        <div className=\"relative z-10\">\n          <div className=\"flex items-center gap-3 text-white\">\n            <BarChart3 className=\"h-10 w-10\" />\n            <span className=\"text-2xl font-bold\">VoteApp</span>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 flex-1 flex items-center justify-center\">\n          <div className=\"w-full max-w-md\">\n            {/* Illustration */}\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-t from-[var(--primary-700)] to-transparent rounded-3xl\" />\n              <img\n                src=\"/people-voting-with-tablets-and-floating-poll-bubbl.jpg\"\n                alt=\"Illustration de vote en ligne\"\n                className=\"w-full h-auto rounded-3xl\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 space-y-6\">\n          <h2 className=\"text-3xl font-bold text-white text-balance\">\n            Simplifiez vos décisions avec notre plateforme de vote en ligne\n          </h2>\n          <div className=\"flex flex-wrap gap-6\">\n            {features.map((feature) => (\n              <div key={feature.text} className=\"flex items-center gap-2 text-white/90\">\n                <div className=\"p-2 bg-white/20 rounded-lg\">\n                  <feature.icon className=\"h-5 w-5\" />\n                </div>\n                <span className=\"font-medium\">{feature.text}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Right side - Form */}\n      <div className=\"flex-1 flex flex-col min-h-screen bg-background\">\n        <div className=\"flex justify-end p-6\">\n          <ThemeToggle />\n        </div>\n        <div className=\"flex-1 flex items-center justify-center p-6\">\n          <div className=\"w-full max-w-md\">\n            {/* Mobile logo */}\n            <div className=\"lg:hidden flex items-center justify-center gap-3 mb-8\" style={{ color: \"var(--primary)\" }}>\n              <BarChart3 className=\"h-10 w-10\" />\n              <span className=\"text-2xl font-bold\">VoteApp</span>\n            </div>\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AAAA;AAAA;AALA;;;;AAOA,MAAM,WAAW;IACf;QAAE,MAAM,iSAAI;QAAE,MAAM;IAAmB;IACvC;QAAE,MAAM,uTAAU;QAAE,MAAM;IAA0B;IACpD;QAAE,MAAM,oSAAK;QAAE,MAAM;IAAiB;CACvC;AAEM,SAAS,WAAW,EAAE,QAAQ,EAAiC;IACpE,qBACE,4TAAC;QAAI,WAAU;;0BAEb,4TAAC;gBAAI,WAAU;;kCAEb,4TAAC;wBAAI,WAAU;;;;;;kCACf,4TAAC;wBAAI,WAAU;;;;;;kCAEf,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;;8CACb,4TAAC,sTAAS;oCAAC,WAAU;;;;;;8CACrB,4TAAC;oCAAK,WAAU;8CAAqB;;;;;;;;;;;;;;;;;kCAIzC,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;sCAEb,cAAA,4TAAC;gCAAI,WAAU;;kDACb,4TAAC;wCAAI,WAAU;;;;;;kDACf,4TAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;;;;;;;;;;;;;;;;;kCAMlB,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAG,WAAU;0CAA6C;;;;;;0CAG3D,4TAAC;gCAAI,WAAU;0CACZ,SAAS,GAAG,CAAC,CAAC,wBACb,4TAAC;wCAAuB,WAAU;;0DAChC,4TAAC;gDAAI,WAAU;0DACb,cAAA,4TAAC,QAAQ,IAAI;oDAAC,WAAU;;;;;;;;;;;0DAE1B,4TAAC;gDAAK,WAAU;0DAAe,QAAQ,IAAI;;;;;;;uCAJnC,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;;0BAY9B,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC,sJAAW;;;;;;;;;;kCAEd,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;;8CAEb,4TAAC;oCAAI,WAAU;oCAAwD,OAAO;wCAAE,OAAO;oCAAiB;;sDACtG,4TAAC,sTAAS;4CAAC,WAAU;;;;;;sDACrB,4TAAC;4CAAK,WAAU;sDAAqB;;;;;;;;;;;;gCAEtC;;;;;;;;;;;;;;;;;;;;;;;;AAMb;KAjEgB"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/auth/code-input.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useState, useEffect, type KeyboardEvent, type ClipboardEvent } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface CodeInputProps {\n  length?: number\n  value: string\n  onChange: (value: string) => void\n  disabled?: boolean\n  error?: boolean\n}\n\nexport function CodeInput({ length = 6, value, onChange, disabled = false, error = false }: CodeInputProps) {\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([])\n  const [focused, setFocused] = useState(0)\n\n  useEffect(() => {\n    inputRefs.current[0]?.focus()\n  }, [])\n\n  const handleChange = (index: number, char: string) => {\n    if (!/^\\d*$/.test(char)) return\n\n    const newValue = value.split(\"\")\n    newValue[index] = char\n    const result = newValue.join(\"\").slice(0, length)\n    onChange(result)\n\n    if (char && index < length - 1) {\n      inputRefs.current[index + 1]?.focus()\n      setFocused(index + 1)\n    }\n  }\n\n  const handleKeyDown = (index: number, e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Backspace\") {\n      if (!value[index] && index > 0) {\n        inputRefs.current[index - 1]?.focus()\n        setFocused(index - 1)\n      }\n      const newValue = value.split(\"\")\n      newValue[index] = \"\"\n      onChange(newValue.join(\"\"))\n    } else if (e.key === \"ArrowLeft\" && index > 0) {\n      inputRefs.current[index - 1]?.focus()\n      setFocused(index - 1)\n    } else if (e.key === \"ArrowRight\" && index < length - 1) {\n      inputRefs.current[index + 1]?.focus()\n      setFocused(index + 1)\n    }\n  }\n\n  const handlePaste = (e: ClipboardEvent<HTMLInputElement>) => {\n    e.preventDefault()\n    const pasteData = e.clipboardData.getData(\"text\").replace(/\\D/g, \"\").slice(0, length)\n    onChange(pasteData)\n    inputRefs.current[Math.min(pasteData.length, length - 1)]?.focus()\n  }\n\n  return (\n    <div className=\"flex justify-center gap-2 sm:gap-3\">\n      {Array.from({ length }).map((_, index) => (\n        <input\n          key={index}\n          ref={(el) => {\n            inputRefs.current[index] = el\n          }}\n          type=\"text\"\n          inputMode=\"numeric\"\n          maxLength={1}\n          value={value[index] || \"\"}\n          onChange={(e) => handleChange(index, e.target.value)}\n          onKeyDown={(e) => handleKeyDown(index, e)}\n          onPaste={handlePaste}\n          onFocus={() => setFocused(index)}\n          disabled={disabled}\n          className={cn(\n            \"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl font-bold rounded-xl border-2 transition-all\",\n            \"bg-card text-card-foreground\",\n            focused === index && !error && \"border-[var(--primary)] ring-4 ring-[var(--primary-100)]\",\n            error && \"border-red-500 animate-shake\",\n            !error && focused !== index && \"border-border\",\n            disabled && \"opacity-50 cursor-not-allowed\",\n          )}\n        />\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAaO,SAAS,UAAU,EAAE,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAE,QAAQ,KAAK,EAAkB;;IACxG,MAAM,YAAY,IAAA,sSAAM,EAA8B,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IAEvC,IAAA,ySAAS;+BAAC;YACR,UAAU,OAAO,CAAC,EAAE,EAAE;QACxB;8BAAG,EAAE;IAEL,MAAM,eAAe,CAAC,OAAe;QACnC,IAAI,CAAC,QAAQ,IAAI,CAAC,OAAO;QAEzB,MAAM,WAAW,MAAM,KAAK,CAAC;QAC7B,QAAQ,CAAC,MAAM,GAAG;QAClB,MAAM,SAAS,SAAS,IAAI,CAAC,IAAI,KAAK,CAAC,GAAG;QAC1C,SAAS;QAET,IAAI,QAAQ,QAAQ,SAAS,GAAG;YAC9B,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB;IACF;IAEA,MAAM,gBAAgB,CAAC,OAAe;QACpC,IAAI,EAAE,GAAG,KAAK,aAAa;YACzB,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,QAAQ,GAAG;gBAC9B,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;gBAC9B,WAAW,QAAQ;YACrB;YACA,MAAM,WAAW,MAAM,KAAK,CAAC;YAC7B,QAAQ,CAAC,MAAM,GAAG;YAClB,SAAS,SAAS,IAAI,CAAC;QACzB,OAAO,IAAI,EAAE,GAAG,KAAK,eAAe,QAAQ,GAAG;YAC7C,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB,OAAO,IAAI,EAAE,GAAG,KAAK,gBAAgB,QAAQ,SAAS,GAAG;YACvD,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,EAAE,cAAc;QAChB,MAAM,YAAY,EAAE,aAAa,CAAC,OAAO,CAAC,QAAQ,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG;QAC9E,SAAS;QACT,UAAU,OAAO,CAAC,KAAK,GAAG,CAAC,UAAU,MAAM,EAAE,SAAS,GAAG,EAAE;IAC7D;IAEA,qBACE,4TAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE;QAAO,GAAG,GAAG,CAAC,CAAC,GAAG,sBAC9B,4TAAC;gBAEC,KAAK,CAAC;oBACJ,UAAU,OAAO,CAAC,MAAM,GAAG;gBAC7B;gBACA,MAAK;gBACL,WAAU;gBACV,WAAW;gBACX,OAAO,KAAK,CAAC,MAAM,IAAI;gBACvB,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gBACnD,WAAW,CAAC,IAAM,cAAc,OAAO;gBACvC,SAAS;gBACT,SAAS,IAAM,WAAW;gBAC1B,UAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+FACA,gCACA,YAAY,SAAS,CAAC,SAAS,4DAC/B,SAAS,gCACT,CAAC,SAAS,YAAY,SAAS,iBAC/B,YAAY;eAnBT;;;;;;;;;;AAyBf;GA5EgB;KAAA"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/hooks/use-countdown.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\ninterface CountdownResult {\n  days: number\n  hours: number\n  minutes: number\n  seconds: number\n  isExpired: boolean\n  formatted: string\n}\n\nexport function useCountdown(targetDate: string | Date): CountdownResult {\n  const [countdown, setCountdown] = useState<CountdownResult>({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n    isExpired: false,\n    formatted: \"\",\n  })\n\n  useEffect(() => {\n    const calculateTimeLeft = () => {\n      const target = new Date(targetDate).getTime()\n      const now = Date.now()\n      const difference = target - now\n\n      if (difference <= 0) {\n        return {\n          days: 0,\n          hours: 0,\n          minutes: 0,\n          seconds: 0,\n          isExpired: true,\n          formatted: \"Terminé\",\n        }\n      }\n\n      const days = Math.floor(difference / (1000 * 60 * 60 * 24))\n      const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n      const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60))\n      const seconds = Math.floor((difference % (1000 * 60)) / 1000)\n\n      let formatted = \"\"\n      if (days > 0) formatted += `${days}j `\n      if (hours > 0 || days > 0) formatted += `${hours}h `\n      formatted += `${minutes}m`\n      if (days === 0 && hours === 0) formatted += ` ${seconds}s`\n\n      return {\n        days,\n        hours,\n        minutes,\n        seconds,\n        isExpired: false,\n        formatted: formatted.trim(),\n      }\n    }\n\n    setCountdown(calculateTimeLeft())\n\n    const interval = setInterval(() => {\n      setCountdown(calculateTimeLeft())\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [targetDate])\n\n  return countdown\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAaO,SAAS,aAAa,UAAyB;;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAkB;QAC1D,MAAM;QACN,OAAO;QACP,SAAS;QACT,SAAS;QACT,WAAW;QACX,WAAW;IACb;IAEA,IAAA,ySAAS;kCAAC;YACR,MAAM;4DAAoB;oBACxB,MAAM,SAAS,IAAI,KAAK,YAAY,OAAO;oBAC3C,MAAM,MAAM,KAAK,GAAG;oBACpB,MAAM,aAAa,SAAS;oBAE5B,IAAI,cAAc,GAAG;wBACnB,OAAO;4BACL,MAAM;4BACN,OAAO;4BACP,SAAS;4BACT,SAAS;4BACT,WAAW;4BACX,WAAW;wBACb;oBACF;oBAEA,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,CAAC,OAAO,KAAK,KAAK,EAAE;oBACzD,MAAM,QAAQ,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,KAAK,KAAK,EAAE,IAAK,CAAC,OAAO,KAAK,EAAE;oBAC/E,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,KAAK,EAAE,IAAK,CAAC,OAAO,EAAE;oBACvE,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,EAAE,IAAK;oBAExD,IAAI,YAAY;oBAChB,IAAI,OAAO,GAAG,aAAa,GAAG,KAAK,EAAE,CAAC;oBACtC,IAAI,QAAQ,KAAK,OAAO,GAAG,aAAa,GAAG,MAAM,EAAE,CAAC;oBACpD,aAAa,GAAG,QAAQ,CAAC,CAAC;oBAC1B,IAAI,SAAS,KAAK,UAAU,GAAG,aAAa,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;oBAE1D,OAAO;wBACL;wBACA;wBACA;wBACA;wBACA,WAAW;wBACX,WAAW,UAAU,IAAI;oBAC3B;gBACF;;YAEA,aAAa;YAEb,MAAM,WAAW;mDAAY;oBAC3B,aAAa;gBACf;kDAAG;YAEH;0CAAO,IAAM,cAAc;;QAC7B;iCAAG;QAAC;KAAW;IAEf,OAAO;AACT;GA1DgB"}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/app/%28auth%29/verify-reset-code/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, Suspense } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { AuthLayout } from \"@/components/auth/auth-layout\"\nimport { CodeInput } from \"@/components/auth/code-input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { toast } from \"sonner\"\nimport { useCountdown } from \"@/hooks/use-countdown\"\nimport { Key, Loader2, ArrowLeft, RefreshCw } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport Link from \"next/link\"\n\nconst API_MODE = process.env.NEXT_PUBLIC_API_MODE || \"mock\"\nconst USE_REAL_API = API_MODE === \"real\"\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"\n\nfunction VerifyResetCodeContent() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const email = searchParams.get(\"email\") || \"\"\n  const expiresAtParam = searchParams.get(\"expiresAt\") || \"\"\n\n  const [code, setCode] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [isResending, setIsResending] = useState(false)\n  const [canResend, setCanResend] = useState(false)\n\n  // Utiliser l'expiration du backend si disponible, sinon 10 minutes par défaut\n  const [expiresAt, setExpiresAt] = useState(() =>\n    expiresAtParam || new Date(Date.now() + 10 * 60 * 1000).toISOString()\n  )\n\n  const countdown = useCountdown(expiresAt)\n\n  useEffect(() => {\n    if (!email) {\n      router.push(\"/forgot-password\")\n    }\n  }, [email, router])\n\n  useEffect(() => {\n    const timer = setTimeout(() => setCanResend(true), 30000)\n    return () => clearTimeout(timer)\n  }, [expiresAt])\n\n  const handleVerify = async () => {\n    if (code.length !== 6) {\n      toast.error(\"Veuillez entrer le code complet\")\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      // Vérifier le code en essayant de l'utiliser (on ne réinitialise pas encore)\n      // On passe simplement à la page suivante avec le code\n      toast.success(\"Code vérifié avec succès !\")\n      router.push(`/reset-password?email=${encodeURIComponent(email)}&code=${code}&expiresAt=${encodeURIComponent(expiresAt)}`)\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Code invalide\")\n      setCode(\"\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleResend = async () => {\n    setIsResending(true)\n    try {\n      if (USE_REAL_API) {\n        const response = await fetch(`${API_BASE_URL.replace('/api', '')}/api/auth/forgot-password`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ email })\n        })\n\n        const result = await response.json()\n\n        if (!response.ok) {\n          throw new Error(result.error?.message || \"Erreur lors du renvoi\")\n        }\n\n        // Mettre à jour l'expiration avec celle du backend\n        if (result.data?.expiresAt) {\n          setExpiresAt(result.data.expiresAt)\n        } else {\n          setExpiresAt(new Date(Date.now() + 10 * 60 * 1000).toISOString())\n        }\n      } else {\n        setExpiresAt(new Date(Date.now() + 10 * 60 * 1000).toISOString())\n      }\n\n      toast.success(\"Nouveau code envoyé !\")\n      setCanResend(false)\n      setCode(\"\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Erreur lors du renvoi\")\n    } finally {\n      setIsResending(false)\n    }\n  }\n\n  return (\n    <AuthLayout>\n      <Card className=\"border-0 shadow-xl\">\n        <CardContent className=\"p-8\">\n          <Link\n            href=\"/forgot-password\"\n            className=\"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            Retour\n          </Link>\n\n          <div className=\"text-center mb-6\">\n            <div\n              className=\"mx-auto mb-4 w-20 h-20 rounded-full flex items-center justify-center\"\n              style={{ background: `linear-gradient(135deg, var(--primary-100), var(--primary-50))` }}\n            >\n              <Key className=\"h-10 w-10\" style={{ color: \"var(--primary)\" }} />\n            </div>\n            <h1 className=\"text-2xl font-bold mb-2\">Vérifiez votre code</h1>\n            <p className=\"text-muted-foreground mb-2\">Un code de vérification a été envoyé à</p>\n            <p className=\"font-medium mb-4\" style={{ color: \"var(--primary)\" }}>\n              {email}\n            </p>\n\n            <div\n              className={cn(\n                \"flex items-center justify-center gap-2 mb-6 text-sm font-medium\",\n                countdown.isExpired\n                  ? \"text-red-500\"\n                  : countdown.minutes < 2\n                    ? \"text-orange-500 animate-pulse\"\n                    : \"text-muted-foreground\",\n              )}\n            >\n              <span>Le code expire dans :</span>\n              <span className=\"font-mono\">{countdown.formatted}</span>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <CodeInput value={code} onChange={setCode} disabled={isLoading || countdown.isExpired} error={false} />\n          </div>\n\n          <Button\n            onClick={handleVerify}\n            className=\"w-full h-12 text-base font-semibold mb-4\"\n            style={{\n              background: `linear-gradient(135deg, var(--primary), var(--primary-700))`,\n            }}\n            disabled={isLoading || code.length !== 6 || countdown.isExpired}\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                Vérification...\n              </>\n            ) : (\n              \"Vérifier le code\"\n            )}\n          </Button>\n\n          <div className=\"text-center text-sm text-muted-foreground\">\n            Code non reçu ?{\" \"}\n            <button\n              onClick={handleResend}\n              disabled={!canResend || isResending}\n              className={cn(\n                \"inline-flex items-center gap-1 font-medium\",\n                canResend ? \"hover:underline cursor-pointer\" : \"opacity-50 cursor-not-allowed\",\n              )}\n              style={{ color: canResend ? \"var(--primary)\" : undefined }}\n            >\n              {isResending ? (\n                <>\n                  <Loader2 className=\"h-3 w-3 animate-spin\" />\n                  Envoi...\n                </>\n              ) : (\n                <>\n                  <RefreshCw className=\"h-3 w-3\" />\n                  Renvoyer le code\n                </>\n              )}\n            </button>\n          </div>\n        </CardContent>\n      </Card>\n    </AuthLayout>\n  )\n}\n\nexport default function VerifyResetCodePage() {\n  return (\n    <Suspense\n      fallback={\n        <AuthLayout>\n          <Card className=\"border-0 shadow-xl\">\n            <CardContent className=\"p-8 text-center\">\n              <Loader2 className=\"h-8 w-8 animate-spin mx-auto\" />\n            </CardContent>\n          </Card>\n        </AuthLayout>\n      }\n    >\n      <VerifyResetCodeContent />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}