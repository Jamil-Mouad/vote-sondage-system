{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport { useThemeStore } from \"@/store/theme-store\"\nimport { Sun, Moon } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nexport function ThemeToggle({ className }: { className?: string }) {\n  const { theme, toggleTheme } = useThemeStore()\n\n  return (\n    <button\n      onClick={toggleTheme}\n      className={cn(\n        \"relative flex h-8 w-16 items-center rounded-full p-1 transition-colors duration-300\",\n        theme === \"light\" ? \"bg-slate-200\" : \"bg-slate-700\",\n        className,\n      )}\n      aria-label=\"Toggle theme\"\n    >\n      <Sun\n        className={cn(\n          \"absolute left-1.5 h-4 w-4 transition-all duration-300\",\n          theme === \"light\" ? \"text-amber-500 scale-110\" : \"text-slate-500 scale-100\",\n        )}\n      />\n      <Moon\n        className={cn(\n          \"absolute right-1.5 h-4 w-4 transition-all duration-300\",\n          theme === \"dark\" ? \"text-blue-400 scale-110\" : \"text-slate-400 scale-100\",\n        )}\n      />\n      <span\n        className={cn(\n          \"h-6 w-6 rounded-full bg-white shadow-sm transition-transform duration-300\",\n          theme === \"dark\" ? \"translate-x-8\" : \"translate-x-0\",\n        )}\n      />\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAMO,SAAS,YAAY,EAAE,SAAS,EAA0B;;IAC/D,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,2IAAa;IAE5C,qBACE,4TAAC;QACC,SAAS;QACT,WAAW,IAAA,qHAAE,EACX,uFACA,UAAU,UAAU,iBAAiB,gBACrC;QAEF,cAAW;;0BAEX,4TAAC,8RAAG;gBACF,WAAW,IAAA,qHAAE,EACX,yDACA,UAAU,UAAU,6BAA6B;;;;;;0BAGrD,4TAAC,iSAAI;gBACH,WAAW,IAAA,qHAAE,EACX,0DACA,UAAU,SAAS,4BAA4B;;;;;;0BAGnD,4TAAC;gBACC,WAAW,IAAA,qHAAE,EACX,6EACA,UAAU,SAAS,kBAAkB;;;;;;;;;;;;AAK/C;GAjCgB;;QACiB,2IAAa;;;KAD9B"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/auth/auth-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { ThemeToggle } from \"@/components/ui/theme-toggle\"\nimport { BarChart3, Vote, Users, TrendingUp } from \"lucide-react\"\n\nconst features = [\n  { icon: Vote, text: \"Votez facilement\" },\n  { icon: TrendingUp, text: \"Résultats en temps réel\" },\n  { icon: Users, text: \"Groupes privés\" },\n]\n\nexport function AuthLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"min-h-screen flex\">\n      {/* Left side - Illustration */}\n      <div className=\"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[var(--primary)] to-[var(--primary-700)] p-12 flex-col justify-between relative overflow-hidden\">\n        {/* Decorative elements */}\n        <div className=\"absolute top-20 right-20 w-64 h-64 bg-white/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-20 left-10 w-48 h-48 bg-white/10 rounded-full blur-2xl\" />\n\n        <div className=\"relative z-10\">\n          <div className=\"flex items-center gap-3 text-white\">\n            <BarChart3 className=\"h-10 w-10\" />\n            <span className=\"text-2xl font-bold\">VoteApp</span>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 flex-1 flex items-center justify-center\">\n          <div className=\"w-full max-w-md\">\n            {/* Illustration */}\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-t from-[var(--primary-700)] to-transparent rounded-3xl\" />\n              <img\n                src=\"/people-voting-with-tablets-and-floating-poll-bubbl.jpg\"\n                alt=\"Illustration de vote en ligne\"\n                className=\"w-full h-auto rounded-3xl\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 space-y-6\">\n          <h2 className=\"text-3xl font-bold text-white text-balance\">\n            Simplifiez vos décisions avec notre plateforme de vote en ligne\n          </h2>\n          <div className=\"flex flex-wrap gap-6\">\n            {features.map((feature) => (\n              <div key={feature.text} className=\"flex items-center gap-2 text-white/90\">\n                <div className=\"p-2 bg-white/20 rounded-lg\">\n                  <feature.icon className=\"h-5 w-5\" />\n                </div>\n                <span className=\"font-medium\">{feature.text}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Right side - Form */}\n      <div className=\"flex-1 flex flex-col min-h-screen bg-background\">\n        <div className=\"flex justify-end p-6\">\n          <ThemeToggle />\n        </div>\n        <div className=\"flex-1 flex items-center justify-center p-6\">\n          <div className=\"w-full max-w-md\">\n            {/* Mobile logo */}\n            <div className=\"lg:hidden flex items-center justify-center gap-3 mb-8\" style={{ color: \"var(--primary)\" }}>\n              <BarChart3 className=\"h-10 w-10\" />\n              <span className=\"text-2xl font-bold\">VoteApp</span>\n            </div>\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AAAA;AAAA;AALA;;;;AAOA,MAAM,WAAW;IACf;QAAE,MAAM,iSAAI;QAAE,MAAM;IAAmB;IACvC;QAAE,MAAM,uTAAU;QAAE,MAAM;IAA0B;IACpD;QAAE,MAAM,oSAAK;QAAE,MAAM;IAAiB;CACvC;AAEM,SAAS,WAAW,EAAE,QAAQ,EAAiC;IACpE,qBACE,4TAAC;QAAI,WAAU;;0BAEb,4TAAC;gBAAI,WAAU;;kCAEb,4TAAC;wBAAI,WAAU;;;;;;kCACf,4TAAC;wBAAI,WAAU;;;;;;kCAEf,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;;8CACb,4TAAC,sTAAS;oCAAC,WAAU;;;;;;8CACrB,4TAAC;oCAAK,WAAU;8CAAqB;;;;;;;;;;;;;;;;;kCAIzC,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;sCAEb,cAAA,4TAAC;gCAAI,WAAU;;kDACb,4TAAC;wCAAI,WAAU;;;;;;kDACf,4TAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;;;;;;;;;;;;;;;;;kCAMlB,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAG,WAAU;0CAA6C;;;;;;0CAG3D,4TAAC;gCAAI,WAAU;0CACZ,SAAS,GAAG,CAAC,CAAC,wBACb,4TAAC;wCAAuB,WAAU;;0DAChC,4TAAC;gDAAI,WAAU;0DACb,cAAA,4TAAC,QAAQ,IAAI;oDAAC,WAAU;;;;;;;;;;;0DAE1B,4TAAC;gDAAK,WAAU;0DAAe,QAAQ,IAAI;;;;;;;uCAJnC,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;;0BAY9B,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC,sJAAW;;;;;;;;;;kCAEd,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAI,WAAU;;8CAEb,4TAAC;oCAAI,WAAU;oCAAwD,OAAO;wCAAE,OAAO;oCAAiB;;sDACtG,4TAAC,sTAAS;4CAAC,WAAU;;;;;;sDACrB,4TAAC;4CAAK,WAAU;sDAAqB;;;;;;;;;;;;gCAEtC;;;;;;;;;;;;;;;;;;;;;;;;AAMb;KAjEgB"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/auth/code-input.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useState, useEffect, type KeyboardEvent, type ClipboardEvent } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface CodeInputProps {\n  length?: number\n  value: string\n  onChange: (value: string) => void\n  disabled?: boolean\n  error?: boolean\n}\n\nexport function CodeInput({ length = 6, value, onChange, disabled = false, error = false }: CodeInputProps) {\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([])\n  const [focused, setFocused] = useState(0)\n\n  useEffect(() => {\n    inputRefs.current[0]?.focus()\n  }, [])\n\n  const handleChange = (index: number, char: string) => {\n    if (!/^\\d*$/.test(char)) return\n\n    const newValue = value.split(\"\")\n    newValue[index] = char\n    const result = newValue.join(\"\").slice(0, length)\n    onChange(result)\n\n    if (char && index < length - 1) {\n      inputRefs.current[index + 1]?.focus()\n      setFocused(index + 1)\n    }\n  }\n\n  const handleKeyDown = (index: number, e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Backspace\") {\n      if (!value[index] && index > 0) {\n        inputRefs.current[index - 1]?.focus()\n        setFocused(index - 1)\n      }\n      const newValue = value.split(\"\")\n      newValue[index] = \"\"\n      onChange(newValue.join(\"\"))\n    } else if (e.key === \"ArrowLeft\" && index > 0) {\n      inputRefs.current[index - 1]?.focus()\n      setFocused(index - 1)\n    } else if (e.key === \"ArrowRight\" && index < length - 1) {\n      inputRefs.current[index + 1]?.focus()\n      setFocused(index + 1)\n    }\n  }\n\n  const handlePaste = (e: ClipboardEvent<HTMLInputElement>) => {\n    e.preventDefault()\n    const pasteData = e.clipboardData.getData(\"text\").replace(/\\D/g, \"\").slice(0, length)\n    onChange(pasteData)\n    inputRefs.current[Math.min(pasteData.length, length - 1)]?.focus()\n  }\n\n  return (\n    <div className=\"flex justify-center gap-2 sm:gap-3\">\n      {Array.from({ length }).map((_, index) => (\n        <input\n          key={index}\n          ref={(el) => {\n            inputRefs.current[index] = el\n          }}\n          type=\"text\"\n          inputMode=\"numeric\"\n          maxLength={1}\n          value={value[index] || \"\"}\n          onChange={(e) => handleChange(index, e.target.value)}\n          onKeyDown={(e) => handleKeyDown(index, e)}\n          onPaste={handlePaste}\n          onFocus={() => setFocused(index)}\n          disabled={disabled}\n          className={cn(\n            \"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl font-bold rounded-xl border-2 transition-all\",\n            \"bg-card text-card-foreground\",\n            focused === index && !error && \"border-[var(--primary)] ring-4 ring-[var(--primary-100)]\",\n            error && \"border-red-500 animate-shake\",\n            !error && focused !== index && \"border-border\",\n            disabled && \"opacity-50 cursor-not-allowed\",\n          )}\n        />\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAaO,SAAS,UAAU,EAAE,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAE,QAAQ,KAAK,EAAkB;;IACxG,MAAM,YAAY,IAAA,sSAAM,EAA8B,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IAEvC,IAAA,ySAAS;+BAAC;YACR,UAAU,OAAO,CAAC,EAAE,EAAE;QACxB;8BAAG,EAAE;IAEL,MAAM,eAAe,CAAC,OAAe;QACnC,IAAI,CAAC,QAAQ,IAAI,CAAC,OAAO;QAEzB,MAAM,WAAW,MAAM,KAAK,CAAC;QAC7B,QAAQ,CAAC,MAAM,GAAG;QAClB,MAAM,SAAS,SAAS,IAAI,CAAC,IAAI,KAAK,CAAC,GAAG;QAC1C,SAAS;QAET,IAAI,QAAQ,QAAQ,SAAS,GAAG;YAC9B,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB;IACF;IAEA,MAAM,gBAAgB,CAAC,OAAe;QACpC,IAAI,EAAE,GAAG,KAAK,aAAa;YACzB,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,QAAQ,GAAG;gBAC9B,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;gBAC9B,WAAW,QAAQ;YACrB;YACA,MAAM,WAAW,MAAM,KAAK,CAAC;YAC7B,QAAQ,CAAC,MAAM,GAAG;YAClB,SAAS,SAAS,IAAI,CAAC;QACzB,OAAO,IAAI,EAAE,GAAG,KAAK,eAAe,QAAQ,GAAG;YAC7C,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB,OAAO,IAAI,EAAE,GAAG,KAAK,gBAAgB,QAAQ,SAAS,GAAG;YACvD,UAAU,OAAO,CAAC,QAAQ,EAAE,EAAE;YAC9B,WAAW,QAAQ;QACrB;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,EAAE,cAAc;QAChB,MAAM,YAAY,EAAE,aAAa,CAAC,OAAO,CAAC,QAAQ,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG;QAC9E,SAAS;QACT,UAAU,OAAO,CAAC,KAAK,GAAG,CAAC,UAAU,MAAM,EAAE,SAAS,GAAG,EAAE;IAC7D;IAEA,qBACE,4TAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE;QAAO,GAAG,GAAG,CAAC,CAAC,GAAG,sBAC9B,4TAAC;gBAEC,KAAK,CAAC;oBACJ,UAAU,OAAO,CAAC,MAAM,GAAG;gBAC7B;gBACA,MAAK;gBACL,WAAU;gBACV,WAAW;gBACX,OAAO,KAAK,CAAC,MAAM,IAAI;gBACvB,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;gBACnD,WAAW,CAAC,IAAM,cAAc,OAAO;gBACvC,SAAS;gBACT,SAAS,IAAM,WAAW;gBAC1B,UAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+FACA,gCACA,YAAY,SAAS,CAAC,SAAS,4DAC/B,SAAS,gCACT,CAAC,SAAS,YAAY,SAAS,iBAC/B,YAAY;eAnBT;;;;;;;;;;AAyBf;GA5EgB;KAAA"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/auth/password-strength.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { Check, X } from \"lucide-react\"\n\ninterface PasswordStrengthProps {\n  password: string\n}\n\nexport function PasswordStrength({ password }: PasswordStrengthProps) {\n  const criteria = useMemo(() => {\n    return {\n      minLength: password.length >= 8,\n      hasUpperCase: /[A-Z]/.test(password),\n      hasLowerCase: /[a-z]/.test(password),\n      hasNumber: /[0-9]/.test(password),\n      hasSpecialChar: /[^a-zA-Z0-9]/.test(password),\n    }\n  }, [password])\n\n  const strength = useMemo(() => {\n    if (!password) return { level: 0, text: \"\", color: \"\" }\n\n    let score = 0\n\n    // Length checks\n    if (password.length >= 6) score += 1\n    if (password.length >= 8) score += 1\n    if (password.length >= 12) score += 1\n\n    // Complexity checks\n    if (criteria.hasLowerCase) score += 1\n    if (criteria.hasUpperCase) score += 1\n    if (criteria.hasNumber) score += 1\n    if (criteria.hasSpecialChar) score += 1\n\n    if (score <= 2) return { level: 1, text: \"Trop faible\", color: \"bg-red-500\" }\n    if (score <= 3) return { level: 2, text: \"Faible\", color: \"bg-orange-500\" }\n    if (score <= 4) return { level: 3, text: \"Moyen\", color: \"bg-yellow-500\" }\n    if (score <= 5) return { level: 4, text: \"Fort\", color: \"bg-green-500\" }\n    return { level: 5, text: \"Excellent !\", color: \"bg-emerald-500\" }\n  }, [password, criteria])\n\n  if (!password) return null\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex gap-1\">\n        {[1, 2, 3, 4, 5].map((i) => (\n          <div\n            key={i}\n            className={cn(\n              \"h-1.5 flex-1 rounded-full transition-colors\",\n              i <= strength.level ? strength.color : \"bg-muted\",\n            )}\n          />\n        ))}\n      </div>\n      <p\n        className={cn(\n          \"text-xs font-medium\",\n          strength.level <= 2 ? \"text-red-500\" : strength.level === 3 ? \"text-yellow-600\" : \"text-green-600\",\n        )}\n      >\n        Force du mot de passe : {strength.text}\n      </p>\n\n      {/* Critères de validation */}\n      <div className=\"space-y-1 text-xs\">\n        <CriteriaItem met={criteria.minLength} text=\"Au moins 8 caractères\" />\n        <CriteriaItem met={criteria.hasUpperCase} text=\"Au moins une majuscule (A-Z)\" />\n        <CriteriaItem met={criteria.hasLowerCase} text=\"Au moins une minuscule (a-z)\" />\n        <CriteriaItem met={criteria.hasNumber} text=\"Au moins un chiffre (0-9)\" />\n        <CriteriaItem met={criteria.hasSpecialChar} text=\"Au moins un caractère spécial (!, @, #, $, %, etc.)\" />\n      </div>\n    </div>\n  )\n}\n\nfunction CriteriaItem({ met, text }: { met: boolean; text: string }) {\n  return (\n    <div className={cn(\"flex items-center gap-1.5\", met ? \"text-green-600\" : \"text-muted-foreground\")}>\n      {met ? <Check className=\"h-3 w-3\" /> : <X className=\"h-3 w-3\" />}\n      <span>{text}</span>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;;;AAJA;;;;AAUO,SAAS,iBAAiB,EAAE,QAAQ,EAAyB;;IAClE,MAAM,WAAW,IAAA,uSAAO;8CAAC;YACvB,OAAO;gBACL,WAAW,SAAS,MAAM,IAAI;gBAC9B,cAAc,QAAQ,IAAI,CAAC;gBAC3B,cAAc,QAAQ,IAAI,CAAC;gBAC3B,WAAW,QAAQ,IAAI,CAAC;gBACxB,gBAAgB,eAAe,IAAI,CAAC;YACtC;QACF;6CAAG;QAAC;KAAS;IAEb,MAAM,WAAW,IAAA,uSAAO;8CAAC;YACvB,IAAI,CAAC,UAAU,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAI,OAAO;YAAG;YAEtD,IAAI,QAAQ;YAEZ,gBAAgB;YAChB,IAAI,SAAS,MAAM,IAAI,GAAG,SAAS;YACnC,IAAI,SAAS,MAAM,IAAI,GAAG,SAAS;YACnC,IAAI,SAAS,MAAM,IAAI,IAAI,SAAS;YAEpC,oBAAoB;YACpB,IAAI,SAAS,YAAY,EAAE,SAAS;YACpC,IAAI,SAAS,YAAY,EAAE,SAAS;YACpC,IAAI,SAAS,SAAS,EAAE,SAAS;YACjC,IAAI,SAAS,cAAc,EAAE,SAAS;YAEtC,IAAI,SAAS,GAAG,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAe,OAAO;YAAa;YAC5E,IAAI,SAAS,GAAG,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAU,OAAO;YAAgB;YAC1E,IAAI,SAAS,GAAG,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAS,OAAO;YAAgB;YACzE,IAAI,SAAS,GAAG,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAQ,OAAO;YAAe;YACvE,OAAO;gBAAE,OAAO;gBAAG,MAAM;gBAAe,OAAO;YAAiB;QAClE;6CAAG;QAAC;QAAU;KAAS;IAEvB,IAAI,CAAC,UAAU,OAAO;IAEtB,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;0BACZ;oBAAC;oBAAG;oBAAG;oBAAG;oBAAG;iBAAE,CAAC,GAAG,CAAC,CAAC,kBACpB,4TAAC;wBAEC,WAAW,IAAA,qHAAE,EACX,+CACA,KAAK,SAAS,KAAK,GAAG,SAAS,KAAK,GAAG;uBAHpC;;;;;;;;;;0BAQX,4TAAC;gBACC,WAAW,IAAA,qHAAE,EACX,uBACA,SAAS,KAAK,IAAI,IAAI,iBAAiB,SAAS,KAAK,KAAK,IAAI,oBAAoB;;oBAErF;oBAC0B,SAAS,IAAI;;;;;;;0BAIxC,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAa,KAAK,SAAS,SAAS;wBAAE,MAAK;;;;;;kCAC5C,4TAAC;wBAAa,KAAK,SAAS,YAAY;wBAAE,MAAK;;;;;;kCAC/C,4TAAC;wBAAa,KAAK,SAAS,YAAY;wBAAE,MAAK;;;;;;kCAC/C,4TAAC;wBAAa,KAAK,SAAS,SAAS;wBAAE,MAAK;;;;;;kCAC5C,4TAAC;wBAAa,KAAK,SAAS,cAAc;wBAAE,MAAK;;;;;;;;;;;;;;;;;;AAIzD;GApEgB;KAAA;AAsEhB,SAAS,aAAa,EAAE,GAAG,EAAE,IAAI,EAAkC;IACjE,qBACE,4TAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,6BAA6B,MAAM,mBAAmB;;YACtE,oBAAM,4TAAC,oSAAK;gBAAC,WAAU;;;;;qCAAe,4TAAC,wRAAC;gBAAC,WAAU;;;;;;0BACpD,4TAAC;0BAAM;;;;;;;;;;;;AAGb;MAPS"}},
    {"offset": {"line": 657, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,4TAAC,yRAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 786, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/lib/mock-data.ts"],"sourcesContent":["import type { User } from \"@/store/auth-store\"\nimport type { Poll } from \"@/store/poll-store\"\nimport type { Group } from \"@/store/group-store\"\n\n// Mock users\nexport const mockUsers: User[] = [\n  {\n    id: 1,\n    username: \"johndoe\",\n    email: \"john@example.com\",\n    firstName: \"John\",\n    lastName: \"Doe\",\n    avatarUrl: \"/thoughtful-man-portrait.png\",\n    role: \"user\",\n    createdAt: \"2025-01-15T10:30:00Z\",\n  },\n  {\n    id: 2,\n    username: \"janedoe\",\n    email: \"jane@example.com\",\n    firstName: \"Jane\",\n    lastName: \"Doe\",\n    avatarUrl: \"/woman-portrait.png\",\n    role: \"user\",\n    createdAt: \"2025-01-10T08:00:00Z\",\n  },\n]\n\n// Mock polls\nexport const mockPolls: Poll[] = [\n  {\n    id: 1,\n    question: \"Quel framework JavaScript préférez-vous pour 2025 ?\",\n    description: \"Votez pour votre framework favori et découvrez ce que la communauté préfère !\",\n    options: [\n      { index: 1, text: \"React\", votes: 45, percentage: 45 },\n      { index: 2, text: \"Vue.js\", votes: 30, percentage: 30 },\n      { index: 3, text: \"Angular\", votes: 18, percentage: 18 },\n      { index: 4, text: \"Svelte\", votes: 7, percentage: 7 },\n    ],\n    endTime: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),\n    status: \"active\",\n    isPublic: true,\n    totalVotes: 100,\n    createdBy: { id: 2, username: \"janedoe\", avatarUrl: \"/diverse-woman-portrait.png\" },\n    hasVoted: false,\n    isCreator: false,\n    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n  },\n  {\n    id: 2,\n    question: \"Meilleur langage backend en 2025 ?\",\n    description: \"Quel langage de programmation utilisez-vous côté serveur ?\",\n    options: [\n      { index: 1, text: \"Node.js\", votes: 42, percentage: 42 },\n      { index: 2, text: \"Python\", votes: 35, percentage: 35 },\n      { index: 3, text: \"Go\", votes: 15, percentage: 15 },\n      { index: 4, text: \"Rust\", votes: 8, percentage: 8 },\n    ],\n    endTime: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),\n    status: \"active\",\n    isPublic: true,\n    totalVotes: 100,\n    createdBy: { id: 1, username: \"johndoe\", avatarUrl: \"/man.jpg\" },\n    hasVoted: false,\n    isCreator: true,\n    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n  },\n  {\n    id: 3,\n    question: \"Quelle base de données NoSQL préférez-vous ?\",\n    options: [\n      { index: 1, text: \"MongoDB\", votes: 55, percentage: 55 },\n      { index: 2, text: \"Redis\", votes: 25, percentage: 25 },\n      { index: 3, text: \"Cassandra\", votes: 12, percentage: 12 },\n      { index: 4, text: \"DynamoDB\", votes: 8, percentage: 8 },\n    ],\n    endTime: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n    status: \"ended\",\n    isPublic: true,\n    totalVotes: 100,\n    createdBy: { id: 2, username: \"janedoe\" },\n    hasVoted: true,\n    myVote: 1,\n    isCreator: false,\n    createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),\n  },\n  {\n    id: 4,\n    question: \"Quel outil de CI/CD utilisez-vous ?\",\n    options: [\n      { index: 1, text: \"GitHub Actions\", votes: 60, percentage: 60 },\n      { index: 2, text: \"GitLab CI\", votes: 25, percentage: 25 },\n      { index: 3, text: \"Jenkins\", votes: 15, percentage: 15 },\n    ],\n    endTime: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString(),\n    status: \"active\",\n    isPublic: true,\n    totalVotes: 100,\n    createdBy: { id: 1, username: \"johndoe\" },\n    hasVoted: true,\n    myVote: 1,\n    isCreator: true,\n    createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n  },\n]\n\n// Mock groups\nexport const mockGroups: Group[] = [\n  {\n    id: 1,\n    name: \"Équipe Dev Frontend\",\n    description:\n      \"Groupe dédié aux sondages de l'équipe frontend. Participez aux décisions sur les technologies, les pratiques et les projets.\",\n    isPublic: true,\n    membersCount: 125,\n    activePolls: 3,\n    pendingRequests: 5,\n    membershipStatus: \"approved\",\n    myRole: \"admin\",\n    createdBy: { id: 1, username: \"johndoe\" },\n    createdAt: \"2025-01-10T10:00:00Z\",\n  },\n  {\n    id: 2,\n    name: \"Club de Lecture Tech\",\n    description: \"Votez pour les prochains livres techniques à lire ensemble.\",\n    isPublic: true,\n    membersCount: 56,\n    activePolls: 1,\n    membershipStatus: \"approved\",\n    myRole: \"member\",\n    createdBy: { id: 2, username: \"janedoe\" },\n    createdAt: \"2025-01-05T08:00:00Z\",\n  },\n  {\n    id: 3,\n    name: \"Marketing Team\",\n    description: \"Sondages internes pour les campagnes marketing et stratégies.\",\n    isPublic: false,\n    membersCount: 23,\n    activePolls: 2,\n    membershipStatus: \"none\",\n    createdBy: { id: 2, username: \"janedoe\" },\n    createdAt: \"2025-01-08T14:00:00Z\",\n  },\n  {\n    id: 4,\n    name: \"Design System\",\n    description: \"Groupe pour voter sur les composants et guidelines du design system.\",\n    isPublic: true,\n    membersCount: 42,\n    activePolls: 0,\n    membershipStatus: \"pending\",\n    createdBy: { id: 2, username: \"janedoe\" },\n    createdAt: \"2025-01-12T09:00:00Z\",\n  },\n]\n\n// FAQ items\nexport const faqItems = [\n  {\n    title: \"Comment créer un sondage ?\",\n    content: `Pour créer un sondage, suivez ces étapes :\n\n1. Cliquez sur le bouton \"+ Créer un sondage\" en haut du tableau de bord\n2. Remplissez le formulaire :\n   • Entrez votre question\n   • Ajoutez 2 à 4 options de réponse\n   • Définissez la date de fin du sondage\n3. Choisissez si le sondage est public ou privé\n4. Cliquez sur \"Publier le sondage\"\n\nNote : En tant que créateur, vous ne pouvez pas voter sur votre propre sondage.`,\n  },\n  {\n    title: \"Comment voter ?\",\n    content: `Pour voter sur un sondage :\n\n1. Trouvez un sondage qui vous intéresse dans le dashboard\n2. Cliquez sur l'option de votre choix\n3. Votre vote est immédiatement enregistré\n4. Vous pouvez voir les résultats après avoir voté\n\nAttention : Vous ne pouvez voter qu'une seule fois par sondage.`,\n  },\n  {\n    title: \"Comment créer un groupe ?\",\n    content: `Pour créer un groupe privé :\n\n1. Accédez à la section \"Groupes\" via le menu\n2. Cliquez sur \"+ Créer un groupe\"\n3. Donnez un nom et une description à votre groupe\n4. Choisissez si le groupe est public ou privé\n5. Invitez des membres ou attendez les demandes d'adhésion`,\n  },\n  {\n    title: \"Comment changer mon mot de passe ?\",\n    content: `Pour modifier votre mot de passe :\n\n1. Accédez à votre profil via le menu\n2. Cliquez sur \"Changer le mot de passe\"\n3. Entrez votre mot de passe actuel\n4. Entrez votre nouveau mot de passe\n5. Confirmez le nouveau mot de passe\n6. Cliquez sur \"Enregistrer\"`,\n  },\n  {\n    title: \"Comment voir les statistiques de mes sondages ?\",\n    content: `Pour consulter les statistiques détaillées :\n\n1. Accédez à \"Mes Sondages\" via le menu\n2. Trouvez le sondage concerné\n3. Cliquez sur \"Voir les statistiques\"\n4. Vous verrez :\n   • Le nombre total de votes\n   • La répartition par option\n   • L'évolution des votes dans le temps\n   • Le taux de participation`,\n  },\n]\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/lib/api-client.ts"],"sourcesContent":["// API Client pour la communication avec le backend\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"\n\n// Fonction utilitaire pour gérer les appels API\nasync function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {},\n): Promise<{ data: T; success: boolean; message?: string }> {\n  const url = `${API_BASE_URL}${endpoint}`\n\n  // Récupérer le token d'authentification depuis localStorage si disponible\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null\n\n  const headers: HeadersInit = {\n    \"Content-Type\": \"application/json\",\n    ...options.headers,\n  }\n\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`\n  }\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    })\n\n    const result = await response.json()\n\n    if (!response.ok) {\n      // Le backend renvoie les erreurs dans result.error.message ou result.error.details\n      const errorMessage = result.error?.message || result.message || \"Une erreur est survenue\"\n      const errorDetails = result.error?.details\n\n      // Si on a des détails de validation, on les affiche\n      if (errorDetails && Array.isArray(errorDetails)) {\n        const validationErrors = errorDetails.map((err: any) => err.msg).join(\", \")\n        throw new Error(validationErrors)\n      }\n\n      throw new Error(errorMessage)\n    }\n\n    return {\n      data: result.data,\n      success: result.success ?? true,\n      message: result.message,\n    }\n  } catch (error) {\n    console.error(\"API Request Error:\", error)\n    throw error instanceof Error\n      ? error\n      : new Error(\"Une erreur réseau est survenue\")\n  }\n}\n\n// API d'authentification\nexport const realAuthApi = {\n  async register(data: { username: string; email: string; password: string }) {\n    return apiRequest(\"/auth/register\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n  },\n\n  async verifyEmail(data: { email: string; code: string }) {\n    console.log(\"Frontend sending verification:\", {\n      email: data.email,\n      code: data.code,\n      codeType: typeof data.code,\n      codeLength: data.code.length,\n    })\n\n    const result = await apiRequest<{\n      userId: number\n      email: string\n      username: string\n      accessToken: string\n      refreshToken: string\n    }>(\"/auth/verify-email\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n\n    // Sauvegarder les tokens\n    if (typeof window !== \"undefined\" && result.data) {\n      localStorage.setItem(\"accessToken\", result.data.accessToken)\n      localStorage.setItem(\"refreshToken\", result.data.refreshToken)\n      localStorage.setItem(\"userId\", result.data.userId.toString())\n    }\n\n    // Retourner dans le format attendu (compatible avec mock)\n    return {\n      user: {\n        id: result.data.userId,\n        username: result.data.username,\n        email: result.data.email,\n        role: \"user\" as const,\n        createdAt: new Date().toISOString(),\n      },\n      accessToken: result.data.accessToken,\n    }\n  },\n\n  async resendCode(email: string) {\n    return apiRequest(\"/auth/resend-code\", {\n      method: \"POST\",\n      body: JSON.stringify({ email }),\n    })\n  },\n\n  async login(data: { email: string; password: string }) {\n    const result = await apiRequest<{\n      userId: number\n      email: string\n      username: string\n      accessToken: string\n      refreshToken: string\n    }>(\"/auth/login\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n\n    // Sauvegarder les tokens\n    if (typeof window !== \"undefined\" && result.data) {\n      localStorage.setItem(\"accessToken\", result.data.accessToken)\n      localStorage.setItem(\"refreshToken\", result.data.refreshToken)\n      localStorage.setItem(\"userId\", result.data.userId.toString())\n    }\n\n    // Retourner dans le format attendu (compatible avec mock)\n    return {\n      user: {\n        id: result.data.userId,\n        username: result.data.username,\n        email: result.data.email,\n        role: \"user\" as const,\n        createdAt: new Date().toISOString(),\n      },\n      accessToken: result.data.accessToken,\n    }\n  },\n\n  async forgotPassword(email: string) {\n    return apiRequest(\"/auth/forgot-password\", {\n      method: \"POST\",\n      body: JSON.stringify({ email }),\n    })\n  },\n\n  async resetPassword(data: {\n    email: string\n    code: string\n    newPassword: string\n  }) {\n    return apiRequest(\"/auth/reset-password\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n  },\n\n  async refreshToken() {\n    const refreshToken =\n      typeof window !== \"undefined\"\n        ? localStorage.getItem(\"refreshToken\")\n        : null\n\n    if (!refreshToken) {\n      throw new Error(\"Aucun refresh token disponible\")\n    }\n\n    const result = await apiRequest<{\n      accessToken: string\n      refreshToken: string\n    }>(\"/auth/refresh-token\", {\n      method: \"POST\",\n      body: JSON.stringify({ refreshToken }),\n    })\n\n    // Mettre à jour les tokens\n    if (typeof window !== \"undefined\" && result.data) {\n      localStorage.setItem(\"accessToken\", result.data.accessToken)\n      localStorage.setItem(\"refreshToken\", result.data.refreshToken)\n    }\n\n    return result\n  },\n\n  async logout() {\n    const result = await apiRequest(\"/auth/logout\", {\n      method: \"POST\",\n    })\n\n    // Supprimer les tokens\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"accessToken\")\n      localStorage.removeItem(\"refreshToken\")\n      localStorage.removeItem(\"userId\")\n    }\n\n    return result\n  },\n}\n\nexport { apiRequest }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/lib/api.ts"],"sourcesContent":["import { mockPolls, mockGroups, mockUsers } from \"./mock-data\"\nimport { realAuthApi } from \"./api-client\"\nimport type { User } from \"@/store/auth-store\"\nimport type { Poll } from \"@/store/poll-store\"\nimport type { Group } from \"@/store/group-store\"\n\n// Mode API: \"mock\" ou \"real\"\nconst API_MODE = process.env.NEXT_PUBLIC_API_MODE || \"mock\"\nconst USE_REAL_API = API_MODE === \"real\"\n\n// Simulate API delay\nconst delay = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))\n\n// In-memory storage for demo\nconst polls = [...mockPolls]\nconst groups = [...mockGroups]\nlet pendingUsers: { email: string; username: string; password: string; code: string; expiresAt: Date }[] = []\nconst users = [...mockUsers]\n\n// Mock Auth API\nconst mockAuthApi = {\n  async register(data: { username: string; email: string; password: string }) {\n    await delay(800)\n\n    if (users.find((u) => u.email === data.email)) {\n      throw new Error(\"Cet email est déjà utilisé\")\n    }\n    if (users.find((u) => u.username === data.username)) {\n      throw new Error(\"Ce nom d'utilisateur est déjà pris\")\n    }\n\n    const code = Math.floor(100000 + Math.random() * 900000).toString()\n    const expiresAt = new Date(Date.now() + 10 * 60 * 1000)\n\n    pendingUsers.push({\n      email: data.email,\n      username: data.username,\n      password: data.password,\n      code,\n      expiresAt,\n    })\n\n    console.log(`[DEMO] Code de vérification pour ${data.email}: ${code}`)\n\n    return { email: data.email, expiresIn: \"10 minutes\" }\n  },\n\n  async verifyEmail(data: { email: string; code: string }) {\n    await delay(500)\n\n    const pending = pendingUsers.find((p) => p.email === data.email)\n    if (!pending) {\n      throw new Error(\"Aucune inscription en attente pour cet email\")\n    }\n    if (pending.code !== data.code) {\n      throw new Error(\"Code de vérification incorrect\")\n    }\n    if (new Date() > pending.expiresAt) {\n      throw new Error(\"Le code a expiré\")\n    }\n\n    const newUser: User = {\n      id: users.length + 1,\n      username: pending.username,\n      email: pending.email,\n      role: \"user\",\n      createdAt: new Date().toISOString(),\n    }\n\n    users.push(newUser)\n    pendingUsers = pendingUsers.filter((p) => p.email !== data.email)\n\n    return {\n      user: newUser,\n      accessToken: \"mock-jwt-token-\" + newUser.id,\n    }\n  },\n\n  async resendCode(email: string) {\n    await delay(500)\n\n    const pending = pendingUsers.find((p) => p.email === email)\n    if (!pending) {\n      throw new Error(\"Aucune inscription en attente pour cet email\")\n    }\n\n    pending.code = Math.floor(100000 + Math.random() * 900000).toString()\n    pending.expiresAt = new Date(Date.now() + 10 * 60 * 1000)\n\n    console.log(`[DEMO] Nouveau code pour ${email}: ${pending.code}`)\n\n    return { success: true }\n  },\n\n  async login(data: { email: string; password: string }) {\n    await delay(800)\n\n    const user = users.find((u) => u.email === data.email)\n    if (!user) {\n      throw new Error(\"Email ou mot de passe incorrect\")\n    }\n\n    return {\n      user,\n      accessToken: \"mock-jwt-token-\" + user.id,\n    }\n  },\n\n  async forgotPassword(email: string) {\n    await delay(500)\n\n    const user = users.find((u) => u.email === email)\n    if (!user) {\n      throw new Error(\"Aucun compte associé à cet email\")\n    }\n\n    const code = Math.floor(100000 + Math.random() * 900000).toString()\n    console.log(`[DEMO] Code de réinitialisation pour ${email}: ${code}`)\n\n    return { expiresIn: \"10 minutes\" }\n  },\n\n  async resetPassword(data: { email: string; code: string; newPassword: string }) {\n    await delay(500)\n    // In demo mode, accept any 6-digit code\n    if (data.code.length !== 6) {\n      throw new Error(\"Code invalide\")\n    }\n    return { success: true }\n  },\n\n  async updateProfile(data: Partial<User>) {\n    await delay(500)\n    const userIndex = users.findIndex((u) => u.id === data.id)\n    if (userIndex !== -1) {\n      users[userIndex] = { ...users[userIndex], ...data }\n      return users[userIndex]\n    }\n    throw new Error(\"Utilisateur non trouvé\")\n  },\n}\n\n// Export authApi selon le mode\nexport const authApi = USE_REAL_API ? realAuthApi : mockAuthApi\n\n// Polls API\nexport const pollsApi = {\n  async getPublicPolls(status: \"active\" | \"ended\" | \"all\" = \"active\") {\n    await delay(500)\n    let result = polls.filter((p) => p.isPublic)\n    if (status !== \"all\") {\n      result = result.filter((p) => p.status === status)\n    }\n    return result\n  },\n\n  async getPoll(id: number) {\n    await delay(300)\n    const poll = polls.find((p) => p.id === id)\n    if (!poll) throw new Error(\"Sondage non trouvé\")\n    return poll\n  },\n\n  async createPoll(data: {\n    question: string\n    description?: string\n    options: string[]\n    endTime: string\n    isPublic: boolean\n    groupId?: number\n  }) {\n    await delay(500)\n\n    const newPoll: Poll = {\n      id: polls.length + 1,\n      question: data.question,\n      description: data.description,\n      options: data.options.map((text, i) => ({\n        index: i + 1,\n        text,\n        votes: 0,\n        percentage: 0,\n      })),\n      endTime: data.endTime,\n      status: \"active\",\n      isPublic: data.isPublic,\n      groupId: data.groupId,\n      totalVotes: 0,\n      createdBy: { id: 1, username: \"johndoe\" },\n      hasVoted: false,\n      isCreator: true,\n      createdAt: new Date().toISOString(),\n    }\n\n    polls.unshift(newPoll)\n    return newPoll\n  },\n\n  async vote(pollId: number, optionSelected: number) {\n    await delay(300)\n\n    const poll = polls.find((p) => p.id === pollId)\n    if (!poll) throw new Error(\"Sondage non trouvé\")\n    if (poll.hasVoted) throw new Error(\"Vous avez déjà voté\")\n    if (poll.isCreator) throw new Error(\"Vous ne pouvez pas voter sur votre propre sondage\")\n    if (poll.status === \"ended\") throw new Error(\"Le sondage est terminé\")\n\n    poll.hasVoted = true\n    poll.myVote = optionSelected\n    poll.totalVotes += 1\n    poll.options[optionSelected - 1].votes += 1\n\n    // Recalculate percentages\n    poll.options.forEach((opt) => {\n      opt.percentage = Math.round((opt.votes / poll.totalVotes) * 100)\n    })\n\n    return poll\n  },\n\n  async getMyPolls() {\n    await delay(500)\n    return polls.filter((p) => p.isCreator)\n  },\n\n  async getHistory() {\n    await delay(500)\n    return {\n      active: polls.filter((p) => p.hasVoted && p.status === \"active\"),\n      ended: polls.filter((p) => p.hasVoted && p.status === \"ended\"),\n    }\n  },\n\n  async deletePoll(id: number) {\n    await delay(300)\n    const index = polls.findIndex((p) => p.id === id)\n    if (index !== -1) {\n      polls[index].status = \"cancelled\"\n    }\n    return { success: true }\n  },\n}\n\n// Groups API\nexport const groupsApi = {\n  async getPublicGroups() {\n    await delay(500)\n    return groups.filter((g) => g.isPublic)\n  },\n\n  async getGroup(id: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === id)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    return group\n  },\n\n  async createGroup(data: { name: string; description?: string; isPublic: boolean }) {\n    await delay(500)\n\n    const newGroup: Group = {\n      id: groups.length + 1,\n      name: data.name,\n      description: data.description,\n      isPublic: data.isPublic,\n      membersCount: 1,\n      activePolls: 0,\n      pendingRequests: 0,\n      membershipStatus: \"approved\",\n      myRole: \"admin\",\n      createdBy: { id: 1, username: \"johndoe\" },\n      createdAt: new Date().toISOString(),\n    }\n\n    groups.unshift(newGroup)\n    return newGroup\n  },\n\n  async joinGroup(id: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === id)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    group.membershipStatus = \"pending\"\n    return { status: \"pending\" }\n  },\n\n  async leaveGroup(id: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === id)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    group.membershipStatus = \"none\"\n    group.membersCount -= 1\n    return { success: true }\n  },\n\n  async getMyGroups() {\n    await delay(500)\n    return {\n      created: groups.filter((g) => g.myRole === \"admin\"),\n      joined: groups.filter((g) => g.membershipStatus === \"approved\" && g.myRole === \"member\"),\n    }\n  },\n\n  async getGroupPolls(groupId: number) {\n    await delay(300)\n    return polls.filter((p) => p.groupId === groupId)\n  },\n\n  async approveMemberRequest(groupId: number, userId: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === groupId)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    if (group.pendingRequests && group.pendingRequests > 0) {\n      group.pendingRequests -= 1\n      group.membersCount += 1\n    }\n    return { success: true }\n  },\n\n  async rejectMemberRequest(groupId: number, userId: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === groupId)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    if (group.pendingRequests && group.pendingRequests > 0) {\n      group.pendingRequests -= 1\n    }\n    return { success: true }\n  },\n\n  async getPendingRequests(groupId: number) {\n    await delay(300)\n    const group = groups.find((g) => g.id === groupId)\n    if (!group) throw new Error(\"Groupe non trouvé\")\n    // Retourner des demandes mockées pour la démo\n    if (group.myRole === \"admin\" && group.pendingRequests) {\n      return Array.from({ length: group.pendingRequests }, (_, i) => ({\n        id: i + 1,\n        user: {\n          id: 100 + i,\n          username: `user${i + 1}`,\n          email: `user${i + 1}@example.com`,\n        },\n        createdAt: new Date().toISOString(),\n      }))\n    }\n    return []\n  },\n}\n\n// Support API\nexport const supportApi = {\n  async sendMessage(data: { subject: string; message: string }) {\n    await delay(500)\n    console.log(\"[DEMO] Message de support envoyé:\", data)\n    return { success: true }\n  },\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1747, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/hooks/use-countdown.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\ninterface CountdownResult {\n  days: number\n  hours: number\n  minutes: number\n  seconds: number\n  isExpired: boolean\n  formatted: string\n}\n\nexport function useCountdown(targetDate: string | Date): CountdownResult {\n  const [countdown, setCountdown] = useState<CountdownResult>({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n    isExpired: false,\n    formatted: \"\",\n  })\n\n  useEffect(() => {\n    const calculateTimeLeft = () => {\n      const target = new Date(targetDate).getTime()\n      const now = Date.now()\n      const difference = target - now\n\n      if (difference <= 0) {\n        return {\n          days: 0,\n          hours: 0,\n          minutes: 0,\n          seconds: 0,\n          isExpired: true,\n          formatted: \"Terminé\",\n        }\n      }\n\n      const days = Math.floor(difference / (1000 * 60 * 60 * 24))\n      const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n      const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60))\n      const seconds = Math.floor((difference % (1000 * 60)) / 1000)\n\n      let formatted = \"\"\n      if (days > 0) formatted += `${days}j `\n      if (hours > 0 || days > 0) formatted += `${hours}h `\n      formatted += `${minutes}m`\n      if (days === 0 && hours === 0) formatted += ` ${seconds}s`\n\n      return {\n        days,\n        hours,\n        minutes,\n        seconds,\n        isExpired: false,\n        formatted: formatted.trim(),\n      }\n    }\n\n    setCountdown(calculateTimeLeft())\n\n    const interval = setInterval(() => {\n      setCountdown(calculateTimeLeft())\n    }, 1000)\n\n    return () => clearInterval(interval)\n  }, [targetDate])\n\n  return countdown\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAaO,SAAS,aAAa,UAAyB;;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wSAAQ,EAAkB;QAC1D,MAAM;QACN,OAAO;QACP,SAAS;QACT,SAAS;QACT,WAAW;QACX,WAAW;IACb;IAEA,IAAA,ySAAS;kCAAC;YACR,MAAM;4DAAoB;oBACxB,MAAM,SAAS,IAAI,KAAK,YAAY,OAAO;oBAC3C,MAAM,MAAM,KAAK,GAAG;oBACpB,MAAM,aAAa,SAAS;oBAE5B,IAAI,cAAc,GAAG;wBACnB,OAAO;4BACL,MAAM;4BACN,OAAO;4BACP,SAAS;4BACT,SAAS;4BACT,WAAW;4BACX,WAAW;wBACb;oBACF;oBAEA,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,CAAC,OAAO,KAAK,KAAK,EAAE;oBACzD,MAAM,QAAQ,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,KAAK,KAAK,EAAE,IAAK,CAAC,OAAO,KAAK,EAAE;oBAC/E,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,KAAK,EAAE,IAAK,CAAC,OAAO,EAAE;oBACvE,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,OAAO,EAAE,IAAK;oBAExD,IAAI,YAAY;oBAChB,IAAI,OAAO,GAAG,aAAa,GAAG,KAAK,EAAE,CAAC;oBACtC,IAAI,QAAQ,KAAK,OAAO,GAAG,aAAa,GAAG,MAAM,EAAE,CAAC;oBACpD,aAAa,GAAG,QAAQ,CAAC,CAAC;oBAC1B,IAAI,SAAS,KAAK,UAAU,GAAG,aAAa,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;oBAE1D,OAAO;wBACL;wBACA;wBACA;wBACA;wBACA,WAAW;wBACX,WAAW,UAAU,IAAI;oBAC3B;gBACF;;YAEA,aAAa;YAEb,MAAM,WAAW;mDAAY;oBAC3B,aAAa;gBACf;kDAAG;YAEH;0CAAO,IAAM,cAAc;;QAC7B;iCAAG;QAAC;KAAW;IAEf,OAAO;AACT;GA1DgB"}},
    {"offset": {"line": 1824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mouad/Mouad/EST_CASA/S5/Js/NODEJS/projet/vote-sondage-system/frontend/app/%28auth%29/reset-password/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, Suspense } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { AuthLayout } from \"@/components/auth/auth-layout\"\nimport { CodeInput } from \"@/components/auth/code-input\"\nimport { PasswordStrength } from \"@/components/auth/password-strength\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { toast } from \"sonner\"\nimport { authApi } from \"@/lib/api\"\nimport { useCountdown } from \"@/hooks/use-countdown\"\nimport { Key, Lock, Eye, EyeOff, Loader2 } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nfunction ResetPasswordContent() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const email = searchParams.get(\"email\") || \"\"\n\n  const [code, setCode] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const expiresAt = new Date(Date.now() + 10 * 60 * 1000).toISOString()\n  const countdown = useCountdown(expiresAt)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (password !== confirmPassword) {\n      toast.error(\"Les mots de passe ne correspondent pas\")\n      return\n    }\n\n    if (code.length !== 6) {\n      toast.error(\"Veuillez entrer le code complet\")\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      await authApi.resetPassword({ email, code, newPassword: password })\n      toast.success(\"Mot de passe réinitialisé avec succès !\")\n      router.push(\"/login\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Erreur lors de la réinitialisation\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <AuthLayout>\n      <Card className=\"border-0 shadow-xl\">\n        <CardContent className=\"p-8\">\n          <div className=\"text-center mb-6\">\n            <div\n              className=\"mx-auto mb-4 w-16 h-16 rounded-full flex items-center justify-center\"\n              style={{ background: `linear-gradient(135deg, var(--primary-100), var(--primary-50))` }}\n            >\n              <Key className=\"h-8 w-8\" style={{ color: \"var(--primary)\" }} />\n            </div>\n            <h1 className=\"text-2xl font-bold mb-2\">Créez votre nouveau mot de passe</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              Code envoyé à : <span className=\"font-medium\">{email}</span>\n            </p>\n            <p\n              className={cn(\n                \"text-sm mt-1\",\n                countdown.isExpired\n                  ? \"text-red-500\"\n                  : countdown.minutes < 2\n                    ? \"text-orange-500\"\n                    : \"text-muted-foreground\",\n              )}\n            >\n              Expire dans : <span className=\"font-mono\">{countdown.formatted}</span>\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            <div className=\"space-y-2\">\n              <Label>Code de vérification</Label>\n              <CodeInput value={code} onChange={setCode} disabled={isLoading} />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Nouveau mot de passe</Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n                <Input\n                  id=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"••••••••\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"pl-10 pr-10\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n                >\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n              <PasswordStrength password={password} />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirmer le mot de passe</Label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n                <Input\n                  id=\"confirmPassword\"\n                  type={showConfirmPassword ? \"text\" : \"password\"}\n                  placeholder=\"••••••••\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  className=\"pl-10 pr-10\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n                >\n                  {showConfirmPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n\n            <Button\n              type=\"submit\"\n              className=\"w-full h-12 text-base font-semibold\"\n              style={{\n                background: `linear-gradient(135deg, var(--primary), var(--primary-700))`,\n              }}\n              disabled={isLoading || countdown.isExpired}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                  Réinitialisation...\n                </>\n              ) : (\n                <>\n                  <Lock className=\"mr-2 h-5 w-5\" />\n                  Réinitialiser le mot de passe\n                </>\n              )}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </AuthLayout>\n  )\n}\n\nexport default function ResetPasswordPage() {\n  return (\n    <Suspense\n      fallback={\n        <AuthLayout>\n          <Card className=\"border-0 shadow-xl\">\n            <CardContent className=\"p-8 text-center\">\n              <Loader2 className=\"h-8 w-8 animate-spin mx-auto\" />\n            </CardContent>\n          </Card>\n        </AuthLayout>\n      }\n    >\n      <ResetPasswordContent />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}